{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Chapter Metadata Schema",
  "description": "Validation schema for chapter frontmatter in Markdown files",
  "type": "object",
  "required": [
    "title",
    "description",
    "keywords",
    "sidebar_position",
    "estimated_time",
    "week",
    "module",
    "prerequisites",
    "learning_objectives"
  ],
  "properties": {
    "title": { 
      "type": "string", 
      "minLength": 5,
      "description": "Full chapter title"
    },
    "description": { 
      "type": "string", 
      "minLength": 20, 
      "maxLength": 160,
      "description": "Brief summary for SEO and TOC"
    },
    "keywords": {
      "type": "array",
      "items": { 
        "type": "string" 
      },
      "minItems": 3,
      "maxItems": 10,
      "description": "SEO keywords"
    },
    "sidebar_position": { 
      "type": "integer", 
      "minimum": 1,
      "description": "Ordering within parent category"
    },
    "sidebar_label": { 
      "type": "string", 
      "maxLength": 40,
      "description": "Optional override for long titles"
    },
    "estimated_time": { 
      "type": "number", 
      "minimum": 0.5, 
      "maximum": 20,
      "description": "Hours of reading/lab work"
    },
    "week": { 
      "type": "integer", 
      "minimum": 1, 
      "maximum": 13,
      "description": "Week number (1-13)"
    },
    "module": { 
      "type": "integer", 
      "minimum": 1, 
      "maximum": 4,
      "description": "Module number (1-4)"
    },
    "prerequisites": {
      "type": "array",
      "items": { 
        "type": "string" 
      },
      "minItems": 0,
      "description": "Array of prior chapter slugs or 'none'"
    },
    "learning_objectives": {
      "type": "array",
      "items": { 
        "type": "string" 
      },
      "minItems": 3,
      "maxItems": 8,
      "description": "Measurable objectives"
    },
    "assessment_type": {
      "type": ["string", "null"],
      "enum": ["project", "quiz", "capstone", null],
      "description": "Type of assessment (if applicable)"
    },
    "difficulty_level": {
      "type": ["string", "null"],
      "enum": ["beginner", "intermediate", "advanced", null],
      "description": "Difficulty level (if applicable)"
    },
    "capstone_component": {
      "type": ["string", "null"],
      "enum": ["voice", "plan", "navigate", "perceive", "manipulate", null],
      "description": "Capstone component (if applicable)"
    }
  },
  "additionalProperties": false,
  "description": "Schema for validating chapter metadata in the Physical AI & Humanoid Robotics textbook"
}